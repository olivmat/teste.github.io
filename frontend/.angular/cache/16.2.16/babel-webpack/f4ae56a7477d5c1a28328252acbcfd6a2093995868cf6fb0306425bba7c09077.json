{"ast":null,"code":"import { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common/http\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/input\";\nimport * as i7 from \"@angular/material/form-field\";\nfunction PresencaCadastroModalComponent_table_15_tr_18_img_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelement(0, \"img\", 19);\n  }\n  if (rf & 2) {\n    const pessoa_r3 = i0.…µ…µnextContext().$implicit;\n    i0.…µ…µproperty(\"src\", pessoa_r3.foto, i0.…µ…µsanitizeUrl);\n  }\n}\nfunction PresencaCadastroModalComponent_table_15_tr_18_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"span\", 20);\n    i0.…µ…µtext(1);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const pessoa_r3 = i0.…µ…µnextContext().$implicit;\n    i0.…µ…µadvance(1);\n    i0.…µ…µtextInterpolate1(\" \", pessoa_r3.sexo === \"Masculino\" ? \"\\uD83D\\uDC66\" : pessoa_r3.sexo === \"Feminino\" ? \"\\uD83D\\uDC67\" : \"\\uD83D\\uDC76\", \" \");\n  }\n}\nfunction PresencaCadastroModalComponent_table_15_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.…µ…µgetCurrentView();\n    i0.…µ…µelementStart(0, \"tr\")(1, \"td\");\n    i0.…µ…µtemplate(2, PresencaCadastroModalComponent_table_15_tr_18_img_2_Template, 1, 1, \"img\", 16);\n    i0.…µ…µtemplate(3, PresencaCadastroModalComponent_table_15_tr_18_span_3_Template, 2, 1, \"span\", 17);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(4, \"td\");\n    i0.…µ…µtext(5);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(6, \"td\");\n    i0.…µ…µtext(7);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(8, \"td\");\n    i0.…µ…µtext(9);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(10, \"td\");\n    i0.…µ…µtext(11);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(12, \"td\");\n    i0.…µ…µtext(13);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(14, \"td\")(15, \"button\", 18);\n    i0.…µ…µlistener(\"click\", function PresencaCadastroModalComponent_table_15_tr_18_Template_button_click_15_listener() {\n      const restoredCtx = i0.…µ…µrestoreView(_r9);\n      const pessoa_r3 = restoredCtx.$implicit;\n      const ctx_r8 = i0.…µ…µnextContext(2);\n      return i0.…µ…µresetView(ctx_r8.selecionarPessoa(pessoa_r3));\n    });\n    i0.…µ…µtext(16, \"Selecionar\");\n    i0.…µ…µelementEnd()()();\n  }\n  if (rf & 2) {\n    const pessoa_r3 = ctx.$implicit;\n    const ctx_r2 = i0.…µ…µnextContext(2);\n    i0.…µ…µclassProp(\"selected\", ctx_r2.pessoaSelecionada && ctx_r2.pessoaSelecionada.id === pessoa_r3.id);\n    i0.…µ…µadvance(2);\n    i0.…µ…µproperty(\"ngIf\", pessoa_r3.foto && (pessoa_r3.foto.startsWith(\"http\") || pessoa_r3.foto.startsWith(\"/uploads/\")));\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", !pessoa_r3.foto || pessoa_r3.foto === \"-\" || !pessoa_r3.foto.startsWith(\"http\") && !pessoa_r3.foto.startsWith(\"/uploads/\"));\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate(pessoa_r3.name);\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate(pessoa_r3.responsavel);\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate(pessoa_r3.banheiro_sozinho ? \"Sim\" : \"N\\u00E3o\");\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate(pessoa_r3.alguma_alergia ? \"Sim\" : \"N\\u00E3o\");\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate(pessoa_r3.alergia);\n  }\n}\nfunction PresencaCadastroModalComponent_table_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"table\", 14)(1, \"thead\")(2, \"tr\")(3, \"th\");\n    i0.…µ…µtext(4, \"Foto\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(5, \"th\");\n    i0.…µ…µtext(6, \"Nome\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(7, \"th\");\n    i0.…µ…µtext(8, \"Respons\\u00E1vel\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(9, \"th\");\n    i0.…µ…µtext(10, \"Banheiro Sozinho\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(11, \"th\");\n    i0.…µ…µtext(12, \"Alguma Alergia\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(13, \"th\");\n    i0.…µ…µtext(14, \"Alergia\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(15, \"th\");\n    i0.…µ…µtext(16, \"Selecionar\");\n    i0.…µ…µelementEnd()()();\n    i0.…µ…µelementStart(17, \"tbody\");\n    i0.…µ…µtemplate(18, PresencaCadastroModalComponent_table_15_tr_18_Template, 17, 9, \"tr\", 15);\n    i0.…µ…µelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.…µ…µnextContext();\n    i0.…µ…µadvance(18);\n    i0.…µ…µproperty(\"ngForOf\", ctx_r0.pessoasFiltradas);\n  }\n}\nfunction PresencaCadastroModalComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.…µ…µgetCurrentView();\n    i0.…µ…µelementStart(0, \"div\", 21)(1, \"div\", 22)(2, \"p\");\n    i0.…µ…µtext(3);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(4, \"button\", 23);\n    i0.…µ…µlistener(\"click\", function PresencaCadastroModalComponent_div_16_Template_button_click_4_listener() {\n      i0.…µ…µrestoreView(_r11);\n      const ctx_r10 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r10.closeErrorModal());\n    });\n    i0.…µ…µtext(5, \"Fechar\");\n    i0.…µ…µelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.…µ…µnextContext();\n    i0.…µ…µadvance(3);\n    i0.…µ…µtextInterpolate(ctx_r1.errorMessage);\n  }\n}\nexport class PresencaCadastroModalComponent {\n  constructor(dialogRef, fb, http, data) {\n    this.dialogRef = dialogRef;\n    this.fb = fb;\n    this.http = http;\n    this.data = data;\n    this.pessoas = [];\n    this.pessoasFiltradas = [];\n    this.buscaNome = '';\n    this.pessoaSelecionada = null;\n    this.today = new Date();\n    this.presencas = [];\n    this.showErrorModal = false;\n    this.errorMessage = '';\n    this.presencaForm = this.fb.group({\n      person_id: ['', Validators.required],\n      date: [new Date(), Validators.required]\n    });\n    if (data && data.presencas) {\n      this.presencas = data.presencas;\n    }\n  }\n  ngOnInit() {\n    this.http.get('http://localhost:8000/people/').subscribe(data => {\n      this.pessoas = data;\n      this.filtrarPessoas();\n    });\n  }\n  filtrarPessoas() {\n    const termo = this.buscaNome.trim().toLowerCase();\n    if (!termo) {\n      this.pessoasFiltradas = this.pessoas;\n    } else {\n      this.pessoasFiltradas = this.pessoas.filter(p => p.name.toLowerCase().startsWith(termo));\n    }\n  }\n  selecionarPessoa(pessoa) {\n    this.pessoaSelecionada = pessoa;\n    this.presencaForm.patchValue({\n      person_id: pessoa.id\n    });\n  }\n  onSubmit() {\n    console.log('onSubmit chamado', this.presencaForm.value, this.pessoaSelecionada);\n    if (this.presencaForm.valid) {\n      const presencaData = this.presencaForm.value;\n      const dataHoje = this.formatarData(presencaData.date);\n      const jaRegistrada = this.presencas.some(p => p.person_id === presencaData.person_id && this.formatarData(p.date) === dataHoje);\n      if (jaRegistrada) {\n        this.errorMessage = 'J√° foi registrada a presen√ßa dessa crian√ßa hoje';\n        this.showErrorModal = true;\n        return;\n      }\n      this.http.post('http://localhost:8000/presences/', {\n        person_id: presencaData.person_id,\n        date: dataHoje\n      }).subscribe(response => {\n        this.presencas.push({\n          person_id: presencaData.person_id,\n          date: dataHoje\n        });\n        this.dialogRef.close(true);\n      }, error => {\n        this.errorMessage = 'Crian√ßa j√° registrada hoje ‚ö†Ô∏è';\n        this.showErrorModal = true;\n      });\n    }\n  }\n  formatarData(date) {\n    if (date instanceof Date) {\n      return date.toISOString().split('T')[0];\n    }\n    return date;\n  }\n  onCancel() {\n    this.dialogRef.close();\n  }\n  closeErrorModal() {\n    this.showErrorModal = false;\n  }\n  static {\n    this.…µfac = function PresencaCadastroModalComponent_Factory(t) {\n      return new (t || PresencaCadastroModalComponent)(i0.…µ…µdirectiveInject(i1.MatDialogRef), i0.…µ…µdirectiveInject(i2.FormBuilder), i0.…µ…µdirectiveInject(i3.HttpClient), i0.…µ…µdirectiveInject(MAT_DIALOG_DATA));\n    };\n  }\n  static {\n    this.…µcmp = /*@__PURE__*/i0.…µ…µdefineComponent({\n      type: PresencaCadastroModalComponent,\n      selectors: [[\"app-presenca-cadastro-modal\"]],\n      decls: 22,\n      vars: 10,\n      consts: [[\"mat-dialog-title\", \"\", 1, \"modal-title-centered\"], [1, \"emoji\"], [1, \"filtros-container\"], [\"appearance\", \"outline\"], [\"matInput\", \"\", 3, \"value\", \"readonly\"], [\"type\", \"text\", \"placeholder\", \"Buscar pelo nome da crian\\u00E7a\", 1, \"caixa-busca\", 3, \"ngModel\", \"ngModelChange\"], [1, \"form-container\", 3, \"formGroup\", \"ngSubmit\"], [1, \"caixa-vazia\"], [1, \"table-container\"], [\"class\", \"tabela-cadastro-crianca\", 4, \"ngIf\"], [\"class\", \"error-modal\", 4, \"ngIf\"], [\"align\", \"end\"], [\"mat-button\", \"\", \"type\", \"button\", 3, \"click\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"type\", \"submit\", 3, \"disabled\", \"click\"], [1, \"tabela-cadastro-crianca\"], [3, \"selected\", 4, \"ngFor\", \"ngForOf\"], [\"alt\", \"Foto\", \"class\", \"foto-avatar\", 3, \"src\", 4, \"ngIf\"], [\"class\", \"foto-avatar\", 4, \"ngIf\"], [\"mat-button\", \"\", \"color\", \"primary\", \"type\", \"button\", 3, \"click\"], [\"alt\", \"Foto\", 1, \"foto-avatar\", 3, \"src\"], [1, \"foto-avatar\"], [1, \"error-modal\"], [1, \"error-modal-content\"], [3, \"click\"]],\n      template: function PresencaCadastroModalComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.…µ…µelementStart(0, \"h2\", 0)(1, \"span\", 1);\n          i0.…µ…µtext(2, \"\\uD83D\\uDC76\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µtext(3, \" Registrar Presen\\u00E7a\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(4, \"mat-dialog-content\")(5, \"div\", 2)(6, \"mat-form-field\", 3)(7, \"mat-label\");\n          i0.…µ…µtext(8, \"Data\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelement(9, \"input\", 4);\n          i0.…µ…µpipe(10, \"date\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(11, \"input\", 5);\n          i0.…µ…µlistener(\"ngModelChange\", function PresencaCadastroModalComponent_Template_input_ngModelChange_11_listener($event) {\n            return ctx.buscaNome = $event;\n          })(\"ngModelChange\", function PresencaCadastroModalComponent_Template_input_ngModelChange_11_listener() {\n            return ctx.filtrarPessoas();\n          });\n          i0.…µ…µelementEnd()();\n          i0.…µ…µelementStart(12, \"form\", 6);\n          i0.…µ…µlistener(\"ngSubmit\", function PresencaCadastroModalComponent_Template_form_ngSubmit_12_listener() {\n            return ctx.onSubmit();\n          });\n          i0.…µ…µelementStart(13, \"div\", 7)(14, \"div\", 8);\n          i0.…µ…µtemplate(15, PresencaCadastroModalComponent_table_15_Template, 19, 1, \"table\", 9);\n          i0.…µ…µelementEnd()()();\n          i0.…µ…µtemplate(16, PresencaCadastroModalComponent_div_16_Template, 6, 1, \"div\", 10);\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(17, \"mat-dialog-actions\", 11)(18, \"button\", 12);\n          i0.…µ…µlistener(\"click\", function PresencaCadastroModalComponent_Template_button_click_18_listener() {\n            return ctx.onCancel();\n          });\n          i0.…µ…µtext(19, \"Cancelar\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(20, \"button\", 13);\n          i0.…µ…µlistener(\"click\", function PresencaCadastroModalComponent_Template_button_click_20_listener() {\n            return ctx.onSubmit();\n          });\n          i0.…µ…µtext(21, \" Registrar \");\n          i0.…µ…µelementEnd()();\n        }\n        if (rf & 2) {\n          i0.…µ…µadvance(9);\n          i0.…µ…µproperty(\"value\", i0.…µ…µpipeBind2(10, 7, ctx.today, \"dd/MM/yyyy\"))(\"readonly\", true);\n          i0.…µ…µadvance(2);\n          i0.…µ…µproperty(\"ngModel\", ctx.buscaNome);\n          i0.…µ…µadvance(1);\n          i0.…µ…µproperty(\"formGroup\", ctx.presencaForm);\n          i0.…µ…µadvance(3);\n          i0.…µ…µproperty(\"ngIf\", ctx.pessoasFiltradas.length > 0);\n          i0.…µ…µadvance(1);\n          i0.…µ…µproperty(\"ngIf\", ctx.showErrorModal);\n          i0.…µ…µadvance(4);\n          i0.…µ…µproperty(\"disabled\", !ctx.presencaForm.valid || !ctx.pessoaSelecionada);\n        }\n      },\n      dependencies: [i4.NgForOf, i4.NgIf, i2.…µNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.NgModel, i2.FormGroupDirective, i5.MatButton, i6.MatInput, i7.MatFormField, i7.MatLabel, i1.MatDialogTitle, i1.MatDialogContent, i1.MatDialogActions, i4.DatePipe],\n      styles: [\"h2[mat-dialog-title][_ngcontent-%COMP%] {\\n  margin: 0 0 16px;\\n  color: #333;\\n  font-size: 20px;\\n  font-weight: 700;\\n  display: flex;\\n  align-items: center;\\n  gap: 8px;\\n}\\n\\n.form-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 10px;\\n  min-width: 600px;\\n  padding: 16px 0;\\n}\\n\\n.caixa-vazia[_ngcontent-%COMP%] {\\n  width: 100%;\\n  min-height: 32px;\\n  background: #f5f5f5;\\n  border-radius: 8px;\\n  margin-bottom: 12px;\\n  padding: 8px 0;\\n}\\n\\n.tabela-cadastro-crianca[_ngcontent-%COMP%] {\\n  width: 100%;\\n  border-collapse: separate;\\n  border-spacing: 0 2px;\\n  background: #fff;\\n  font-size: 14px;\\n}\\n.tabela-cadastro-crianca[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .tabela-cadastro-crianca[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n  padding: 4px 8px;\\n  vertical-align: middle;\\n  border-bottom: 1px solid #f0f0f0;\\n}\\n.tabela-cadastro-crianca[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\n  background: #f5f5f5;\\n  font-weight: 600;\\n}\\n.tabela-cadastro-crianca[_ngcontent-%COMP%]   .foto-avatar[_ngcontent-%COMP%] {\\n  width: 80px;\\n  height: 80px;\\n  object-fit: cover;\\n  border-radius: 50%;\\n  border: 2px solid #eee;\\n  background: #fafafa;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  font-size: 36px;\\n  margin: 0 auto;\\n}\\n.tabela-cadastro-crianca[_ngcontent-%COMP%]   tr.selected[_ngcontent-%COMP%] {\\n  background: #e3f2fd !important;\\n}\\n\\n.data-atual-container-top[_ngcontent-%COMP%] {\\n  width: 100%;\\n  display: flex;\\n  justify-content: flex-end;\\n  margin-bottom: 8px;\\n}\\n\\n.data-atual-container-top[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%] {\\n  min-width: 260px;\\n  max-width: 300px;\\n}\\n\\n.error-modal[_ngcontent-%COMP%] {\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  background-color: rgba(0, 0, 0, 0.5);\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  z-index: 1000;\\n}\\n\\n.error-modal-content[_ngcontent-%COMP%] {\\n  background-color: white;\\n  padding: 20px;\\n  border-radius: 5px;\\n  text-align: center;\\n}\\n\\n.error-modal-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  margin-top: 10px;\\n  padding: 5px 10px;\\n  background-color: #007bff;\\n  color: white;\\n  border: none;\\n  border-radius: 3px;\\n  cursor: pointer;\\n}\\n\\n.error-modal-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover {\\n  background-color: #0056b3;\\n}\\n\\n.table-container[_ngcontent-%COMP%] {\\n  height: 300px;\\n  max-height: 95%;\\n  overflow-y: auto;\\n  border: 1px solid #ddd;\\n  background: #fff;\\n}\\n\\ntable[_ngcontent-%COMP%] {\\n  width: 100%;\\n  border-collapse: collapse;\\n}\\n\\nth[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\\n  padding: 8px;\\n  text-align: center;\\n  border-bottom: 1px solid #ddd;\\n}\\n\\nth[_ngcontent-%COMP%] {\\n  background-color: #f2f2f2;\\n  position: sticky;\\n  top: 0;\\n}\\n\\nmat-dialog-content[_ngcontent-%COMP%] {\\n  overflow: visible !important;\\n}\\n\\n.filtros-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 16px;\\n  align-items: stretch;\\n  margin-bottom: 16px;\\n  flex-direction: row;\\n  justify-content: space-between;\\n}\\n\\n.filtros-container[_ngcontent-%COMP%]   .caixa-busca[_ngcontent-%COMP%] {\\n  order: 1;\\n  flex: 1 1 0;\\n  min-width: 200px;\\n  height: 56px;\\n  padding: 0 12px;\\n  border: 1px solid #ccc;\\n  border-radius: 4px;\\n  font-size: 16px;\\n  box-sizing: border-box;\\n  display: flex;\\n  align-items: center;\\n}\\n\\n.filtros-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%] {\\n  order: 2;\\n  min-width: 180px;\\n  flex: 0 0 auto;\\n  height: 40px;\\n  display: flex;\\n  align-items: center;\\n}\\n\\n.modal-title-centered[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  font-size: 1.5rem;\\n  font-weight: bold;\\n  margin-bottom: 16px;\\n  gap: 10px;\\n}\\n\\n.modal-title-centered[_ngcontent-%COMP%]   .emoji[_ngcontent-%COMP%] {\\n  font-size: 2rem;\\n  margin-right: 8px;\\n} \\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcHJlc2VuY2EvcHJlc2VuY2EtY2FkYXN0cm8tbW9kYWwvcHJlc2VuY2EtY2FkYXN0cm8tbW9kYWwuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGdCQUFnQjtFQUNoQixXQUFXO0VBQ1gsZUFBZTtFQUNmLGdCQUFnQjtFQUNoQixhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLFFBQVE7QUFDVjs7QUFFQTtFQUNFLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsU0FBUztFQUNULGdCQUFnQjtFQUNoQixlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsV0FBVztFQUNYLGdCQUFnQjtFQUNoQixtQkFBbUI7RUFDbkIsa0JBQWtCO0VBQ2xCLG1CQUFtQjtFQUNuQixjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsV0FBVztFQUNYLHlCQUF5QjtFQUN6QixxQkFBcUI7RUFDckIsZ0JBQWdCO0VBQ2hCLGVBQWU7QUFDakI7QUFDQTtFQUNFLGdCQUFnQjtFQUNoQixzQkFBc0I7RUFDdEIsZ0NBQWdDO0FBQ2xDO0FBQ0E7RUFDRSxtQkFBbUI7RUFDbkIsZ0JBQWdCO0FBQ2xCO0FBQ0E7RUFDRSxXQUFXO0VBQ1gsWUFBWTtFQUNaLGlCQUFpQjtFQUNqQixrQkFBa0I7RUFDbEIsc0JBQXNCO0VBQ3RCLG1CQUFtQjtFQUNuQixhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLHVCQUF1QjtFQUN2QixlQUFlO0VBQ2YsY0FBYztBQUNoQjtBQUNBO0VBQ0UsOEJBQThCO0FBQ2hDOztBQUVBO0VBQ0UsV0FBVztFQUNYLGFBQWE7RUFDYix5QkFBeUI7RUFDekIsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGVBQWU7RUFDZixNQUFNO0VBQ04sT0FBTztFQUNQLFdBQVc7RUFDWCxZQUFZO0VBQ1osb0NBQW9DO0VBQ3BDLGFBQWE7RUFDYix1QkFBdUI7RUFDdkIsbUJBQW1CO0VBQ25CLGFBQWE7QUFDZjs7QUFFQTtFQUNFLHVCQUF1QjtFQUN2QixhQUFhO0VBQ2Isa0JBQWtCO0VBQ2xCLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixpQkFBaUI7RUFDakIseUJBQXlCO0VBQ3pCLFlBQVk7RUFDWixZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLGVBQWU7QUFDakI7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsZUFBZTtFQUNmLGdCQUFnQjtFQUNoQixzQkFBc0I7RUFDdEIsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsV0FBVztFQUNYLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLFlBQVk7RUFDWixrQkFBa0I7RUFDbEIsNkJBQTZCO0FBQy9COztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLGdCQUFnQjtFQUNoQixNQUFNO0FBQ1I7O0FBRUE7RUFDRSw0QkFBNEI7QUFDOUI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsU0FBUztFQUNULG9CQUFvQjtFQUNwQixtQkFBbUI7RUFDbkIsbUJBQW1CO0VBQ25CLDhCQUE4QjtBQUNoQzs7QUFFQTtFQUNFLFFBQVE7RUFDUixXQUFXO0VBQ1gsZ0JBQWdCO0VBQ2hCLFlBQVk7RUFDWixlQUFlO0VBQ2Ysc0JBQXNCO0VBQ3RCLGtCQUFrQjtFQUNsQixlQUFlO0VBQ2Ysc0JBQXNCO0VBQ3RCLGFBQWE7RUFDYixtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxRQUFRO0VBQ1IsZ0JBQWdCO0VBQ2hCLGNBQWM7RUFDZCxZQUFZO0VBQ1osYUFBYTtFQUNiLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsdUJBQXVCO0VBQ3ZCLGlCQUFpQjtFQUNqQixpQkFBaUI7RUFDakIsbUJBQW1CO0VBQ25CLFNBQVM7QUFDWDs7QUFFQTtFQUNFLGVBQWU7RUFDZixpQkFBaUI7QUFDbkIiLCJzb3VyY2VzQ29udGVudCI6WyJoMlttYXQtZGlhbG9nLXRpdGxlXSB7XG4gIG1hcmdpbjogMCAwIDE2cHg7XG4gIGNvbG9yOiAjMzMzO1xuICBmb250LXNpemU6IDIwcHg7XG4gIGZvbnQtd2VpZ2h0OiA3MDA7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGdhcDogOHB4O1xufVxuXG4uZm9ybS1jb250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBnYXA6IDEwcHg7XG4gIG1pbi13aWR0aDogNjAwcHg7XG4gIHBhZGRpbmc6IDE2cHggMDtcbn1cblxuLmNhaXhhLXZhemlhIHtcbiAgd2lkdGg6IDEwMCU7XG4gIG1pbi1oZWlnaHQ6IDMycHg7XG4gIGJhY2tncm91bmQ6ICNmNWY1ZjU7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgbWFyZ2luLWJvdHRvbTogMTJweDtcbiAgcGFkZGluZzogOHB4IDA7XG59XG5cbi50YWJlbGEtY2FkYXN0cm8tY3JpYW5jYSB7XG4gIHdpZHRoOiAxMDAlO1xuICBib3JkZXItY29sbGFwc2U6IHNlcGFyYXRlO1xuICBib3JkZXItc3BhY2luZzogMCAycHg7XG4gIGJhY2tncm91bmQ6ICNmZmY7XG4gIGZvbnQtc2l6ZTogMTRweDtcbn1cbi50YWJlbGEtY2FkYXN0cm8tY3JpYW5jYSB0aCwgLnRhYmVsYS1jYWRhc3Ryby1jcmlhbmNhIHRkIHtcbiAgcGFkZGluZzogNHB4IDhweDtcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNmMGYwZjA7XG59XG4udGFiZWxhLWNhZGFzdHJvLWNyaWFuY2EgdGgge1xuICBiYWNrZ3JvdW5kOiAjZjVmNWY1O1xuICBmb250LXdlaWdodDogNjAwO1xufVxuLnRhYmVsYS1jYWRhc3Ryby1jcmlhbmNhIC5mb3RvLWF2YXRhciB7XG4gIHdpZHRoOiA4MHB4O1xuICBoZWlnaHQ6IDgwcHg7XG4gIG9iamVjdC1maXQ6IGNvdmVyO1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIGJvcmRlcjogMnB4IHNvbGlkICNlZWU7XG4gIGJhY2tncm91bmQ6ICNmYWZhZmE7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBmb250LXNpemU6IDM2cHg7XG4gIG1hcmdpbjogMCBhdXRvO1xufVxuLnRhYmVsYS1jYWRhc3Ryby1jcmlhbmNhIHRyLnNlbGVjdGVkIHtcbiAgYmFja2dyb3VuZDogI2UzZjJmZCAhaW1wb3J0YW50O1xufVxuXG4uZGF0YS1hdHVhbC1jb250YWluZXItdG9wIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG4gIG1hcmdpbi1ib3R0b206IDhweDtcbn1cblxuLmRhdGEtYXR1YWwtY29udGFpbmVyLXRvcCAubWF0LWZvcm0tZmllbGQge1xuICBtaW4td2lkdGg6IDI2MHB4O1xuICBtYXgtd2lkdGg6IDMwMHB4O1xufVxuXG4uZXJyb3ItbW9kYWwge1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjUpO1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgei1pbmRleDogMTAwMDtcbn1cblxuLmVycm9yLW1vZGFsLWNvbnRlbnQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgcGFkZGluZzogMjBweDtcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5lcnJvci1tb2RhbC1jb250ZW50IGJ1dHRvbiB7XG4gIG1hcmdpbi10b3A6IDEwcHg7XG4gIHBhZGRpbmc6IDVweCAxMHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA3YmZmO1xuICBjb2xvcjogd2hpdGU7XG4gIGJvcmRlcjogbm9uZTtcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbi5lcnJvci1tb2RhbC1jb250ZW50IGJ1dHRvbjpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDU2YjM7XG59XG5cbi50YWJsZS1jb250YWluZXIge1xuICBoZWlnaHQ6IDMwMHB4O1xuICBtYXgtaGVpZ2h0OiA5NSU7XG4gIG92ZXJmbG93LXk6IGF1dG87XG4gIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7XG4gIGJhY2tncm91bmQ6ICNmZmY7XG59XG5cbnRhYmxlIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XG59XG5cbnRoLCB0ZCB7XG4gIHBhZGRpbmc6IDhweDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2RkZDtcbn1cblxudGgge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjJmMmYyO1xuICBwb3NpdGlvbjogc3RpY2t5O1xuICB0b3A6IDA7XG59XG5cbm1hdC1kaWFsb2ctY29udGVudCB7XG4gIG92ZXJmbG93OiB2aXNpYmxlICFpbXBvcnRhbnQ7XG59XG5cbi5maWx0cm9zLWNvbnRhaW5lciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGdhcDogMTZweDtcbiAgYWxpZ24taXRlbXM6IHN0cmV0Y2g7XG4gIG1hcmdpbi1ib3R0b206IDE2cHg7XG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2Vlbjtcbn1cblxuLmZpbHRyb3MtY29udGFpbmVyIC5jYWl4YS1idXNjYSB7XG4gIG9yZGVyOiAxO1xuICBmbGV4OiAxIDEgMDtcbiAgbWluLXdpZHRoOiAyMDBweDtcbiAgaGVpZ2h0OiA1NnB4O1xuICBwYWRkaW5nOiAwIDEycHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuXG4uZmlsdHJvcy1jb250YWluZXIgbWF0LWZvcm0tZmllbGQge1xuICBvcmRlcjogMjtcbiAgbWluLXdpZHRoOiAxODBweDtcbiAgZmxleDogMCAwIGF1dG87XG4gIGhlaWdodDogNDBweDtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuLm1vZGFsLXRpdGxlLWNlbnRlcmVkIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGZvbnQtc2l6ZTogMS41cmVtO1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgbWFyZ2luLWJvdHRvbTogMTZweDtcbiAgZ2FwOiAxMHB4O1xufVxuXG4ubW9kYWwtdGl0bGUtY2VudGVyZWQgLmVtb2ppIHtcbiAgZm9udC1zaXplOiAycmVtO1xuICBtYXJnaW4tcmlnaHQ6IDhweDtcbn0gIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["MAT_DIALOG_DATA","Validators","i0","…µ…µelement","…µ…µproperty","pessoa_r3","foto","…µ…µsanitizeUrl","…µ…µelementStart","…µ…µtext","…µ…µelementEnd","…µ…µadvance","…µ…µtextInterpolate1","sexo","…µ…µtemplate","PresencaCadastroModalComponent_table_15_tr_18_img_2_Template","PresencaCadastroModalComponent_table_15_tr_18_span_3_Template","…µ…µlistener","PresencaCadastroModalComponent_table_15_tr_18_Template_button_click_15_listener","restoredCtx","…µ…µrestoreView","_r9","$implicit","ctx_r8","…µ…µnextContext","…µ…µresetView","selecionarPessoa","…µ…µclassProp","ctx_r2","pessoaSelecionada","id","startsWith","…µ…µtextInterpolate","name","responsavel","banheiro_sozinho","alguma_alergia","alergia","PresencaCadastroModalComponent_table_15_tr_18_Template","ctx_r0","pessoasFiltradas","PresencaCadastroModalComponent_div_16_Template_button_click_4_listener","_r11","ctx_r10","closeErrorModal","ctx_r1","errorMessage","PresencaCadastroModalComponent","constructor","dialogRef","fb","http","data","pessoas","buscaNome","today","Date","presencas","showErrorModal","presencaForm","group","person_id","required","date","ngOnInit","get","subscribe","filtrarPessoas","termo","trim","toLowerCase","filter","p","pessoa","patchValue","onSubmit","console","log","value","valid","presencaData","dataHoje","formatarData","jaRegistrada","some","post","response","push","close","error","toISOString","split","onCancel","…µ…µdirectiveInject","i1","MatDialogRef","i2","FormBuilder","i3","HttpClient","selectors","decls","vars","consts","template","PresencaCadastroModalComponent_Template","rf","ctx","PresencaCadastroModalComponent_Template_input_ngModelChange_11_listener","$event","PresencaCadastroModalComponent_Template_form_ngSubmit_12_listener","PresencaCadastroModalComponent_table_15_Template","PresencaCadastroModalComponent_div_16_Template","PresencaCadastroModalComponent_Template_button_click_18_listener","PresencaCadastroModalComponent_Template_button_click_20_listener","…µ…µpipeBind2","length"],"sources":["C:\\Users\\mathe\\Documents\\Kids\\Cadastro Local Kids\\frontend\\src\\app\\presenca\\presenca-cadastro-modal\\presenca-cadastro-modal.component.ts","C:\\Users\\mathe\\Documents\\Kids\\Cadastro Local Kids\\frontend\\src\\app\\presenca\\presenca-cadastro-modal\\presenca-cadastro-modal.component.html"],"sourcesContent":["import { Component, OnInit, Inject } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n@Component({\r\n  selector: 'app-presenca-cadastro-modal',\r\n  templateUrl: './presenca-cadastro-modal.component.html',\r\n  styleUrls: ['./presenca-cadastro-modal.component.css']\r\n})\r\nexport class PresencaCadastroModalComponent implements OnInit {\r\n  presencaForm: FormGroup;\r\n  pessoas: any[] = [];\r\n  pessoasFiltradas: any[] = [];\r\n  buscaNome: string = '';\r\n  pessoaSelecionada: any = null;\r\n  today: Date = new Date();\r\n  presencas: any[] = [];\r\n  showErrorModal: boolean = false;\r\n  errorMessage: string = '';\r\n\r\n  constructor(\r\n    private dialogRef: MatDialogRef<PresencaCadastroModalComponent>,\r\n    private fb: FormBuilder,\r\n    private http: HttpClient,\r\n    @Inject(MAT_DIALOG_DATA) public data: any\r\n  ) {\r\n    this.presencaForm = this.fb.group({\r\n      person_id: ['', Validators.required],\r\n      date: [new Date(), Validators.required]\r\n    });\r\n    if (data && data.presencas) {\r\n      this.presencas = data.presencas;\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.http.get('http://localhost:8000/people/').subscribe((data: any) => {\r\n      this.pessoas = data;\r\n      this.filtrarPessoas();\r\n    });\r\n  }\r\n\r\n  filtrarPessoas() {\r\n    const termo = this.buscaNome.trim().toLowerCase();\r\n    if (!termo) {\r\n      this.pessoasFiltradas = this.pessoas;\r\n    } else {\r\n      this.pessoasFiltradas = this.pessoas.filter(p => p.name.toLowerCase().startsWith(termo));\r\n    }\r\n  }\r\n\r\n  selecionarPessoa(pessoa: any) {\r\n    this.pessoaSelecionada = pessoa;\r\n    this.presencaForm.patchValue({ person_id: pessoa.id });\r\n  }\r\n\r\n  onSubmit() {\r\n    console.log('onSubmit chamado', this.presencaForm.value, this.pessoaSelecionada);\r\n    if (this.presencaForm.valid) {\r\n      const presencaData = this.presencaForm.value;\r\n      const dataHoje = this.formatarData(presencaData.date);\r\n      const jaRegistrada = this.presencas.some(p =>\r\n        p.person_id === presencaData.person_id &&\r\n        this.formatarData(p.date) === dataHoje\r\n      );\r\n      if (jaRegistrada) {\r\n        this.errorMessage = 'J√° foi registrada a presen√ßa dessa crian√ßa hoje';\r\n        this.showErrorModal = true;\r\n        return;\r\n      }\r\n      this.http.post('http://localhost:8000/presences/', {\r\n        person_id: presencaData.person_id,\r\n        date: dataHoje\r\n      }).subscribe(\r\n        response => {\r\n          this.presencas.push({\r\n            person_id: presencaData.person_id,\r\n            date: dataHoje\r\n          });\r\n          this.dialogRef.close(true);\r\n        },\r\n        error => {\r\n          this.errorMessage = 'Crian√ßa j√° registrada hoje ‚ö†Ô∏è';\r\n          this.showErrorModal = true;\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  formatarData(date: any): string {\r\n    if (date instanceof Date) {\r\n      return date.toISOString().split('T')[0];\r\n    }\r\n    return date;\r\n  }\r\n\r\n  onCancel() {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  closeErrorModal() {\r\n    this.showErrorModal = false;\r\n  }\r\n} ","<h2 mat-dialog-title class=\"modal-title-centered\"><span class=\"emoji\">üë∂</span> Registrar Presen√ßa</h2>\n<mat-dialog-content>\n  <div class=\"filtros-container\">\n    <mat-form-field appearance=\"outline\">\n      <mat-label>Data</mat-label>\n      <input matInput [value]=\"today | date:'dd/MM/yyyy'\" [readonly]=\"true\">\n    </mat-form-field>\n    <input\n      type=\"text\"\n      placeholder=\"Buscar pelo nome da crian√ßa\"\n      [(ngModel)]=\"buscaNome\"\n      (ngModelChange)=\"filtrarPessoas()\"\n      class=\"caixa-busca\"\n    />\n  </div>\n  <form [formGroup]=\"presencaForm\" (ngSubmit)=\"onSubmit()\" class=\"form-container\">\n    <div class=\"caixa-vazia\">\n      <div class=\"table-container\">\n        <table *ngIf=\"pessoasFiltradas.length > 0\" class=\"tabela-cadastro-crianca\">\n          <thead>\n            <tr>\n              <th>Foto</th>\n              <th>Nome</th>\n              <th>Respons√°vel</th>\n              <th>Banheiro Sozinho</th>\n              <th>Alguma Alergia</th>\n              <th>Alergia</th>\n              <th>Selecionar</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr *ngFor=\"let pessoa of pessoasFiltradas\" [class.selected]=\"pessoaSelecionada && pessoaSelecionada.id === pessoa.id\">\n              <td>\n                <img *ngIf=\"pessoa.foto && (pessoa.foto.startsWith('http') || pessoa.foto.startsWith('/uploads/'))\" [src]=\"pessoa.foto\" alt=\"Foto\" class=\"foto-avatar\" />\n                <span *ngIf=\"!pessoa.foto || pessoa.foto === '-' || (!pessoa.foto.startsWith('http') && !pessoa.foto.startsWith('/uploads/'))\" class=\"foto-avatar\">\n                  {{ pessoa.sexo === 'Masculino' ? 'üë¶' : (pessoa.sexo === 'Feminino' ? 'üëß' : 'üë∂') }}\n                </span>\n              </td>\n              <td>{{ pessoa.name }}</td>\n              <td>{{ pessoa.responsavel }}</td>\n              <td>{{ pessoa.banheiro_sozinho ? 'Sim' : 'N√£o' }}</td>\n              <td>{{ pessoa.alguma_alergia ? 'Sim' : 'N√£o' }}</td>\n              <td>{{ pessoa.alergia }}</td>\n              <td>\n                <button mat-button color=\"primary\" type=\"button\" (click)=\"selecionarPessoa(pessoa)\">Selecionar</button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </form>\n  <div *ngIf=\"showErrorModal\" class=\"error-modal\">\n    <div class=\"error-modal-content\">\n      <p>{{ errorMessage }}</p>\n      <button (click)=\"closeErrorModal()\">Fechar</button>\n    </div>\n  </div>\n</mat-dialog-content>\n<mat-dialog-actions align=\"end\">\n  <button mat-button type=\"button\" (click)=\"onCancel()\">Cancelar</button>\n  <button mat-raised-button color=\"primary\" type=\"submit\" [disabled]=\"!presencaForm.valid || !pessoaSelecionada\" (click)=\"onSubmit()\">\n    Registrar\n  </button>\n</mat-dialog-actions> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}